<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>乂丨乂丨</title>
<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<style>
  /* Reset */
  * { box-sizing: border-box; margin:0; padding:0; }
  body { font-family: 'Poppins', sans-serif; background:#0d0d0d; color:#fff; }

  /* Container */
  .container { display:flex; flex-direction:column; height:100vh; }

  /* Header */
  header { background:#1a1a1a; padding:15px; text-align:center; font-size:24px; font-weight:bold; color:#00d8ff; }

  /* Main */
  main { flex:1; display:flex; flex-direction:row; gap:10px; padding:10px; }
  
  /* Video */
  #video-frame { flex:2; display:flex; align-items:center; justify-content:center; }
  #video-frame video { width:100%; height:auto; border-radius:12px; max-height:80vh; }

  /* Chat */
  #chat { flex:1; display:flex; flex-direction:column; background:#1a1a1a; border-radius:12px; overflow:hidden; }
  #chat-messages { flex:1; padding:10px; overflow-y: auto; }
  #chat input { padding:12px; border:none; width:100%; outline:none; font-size:16px; border-top:1px solid #333; background:#121212; color:#fff; border-radius:0 0 12px 12px; }

  .message { margin-bottom:10px; }
  .message span { font-weight:bold; color:#00d8ff; margin-right:5px; }

  /* Scrollbar */
  #chat-messages::-webkit-scrollbar { width:6px; }
  #chat-messages::-webkit-scrollbar-thumb { background:#00d8ff; border-radius:3px; }

  /* Mobile Responsive */
  @media (max-width:768px) {
    main { flex-direction:column; }
    #chat { flex:none; height:250px; margin-top:10px; }
    #video-frame video { max-height:50vh; }
  }
</style>
</head>
<body>
<div class="container">
  <header>乂丨乂丨/header>
  <main>
    <div id="video-frame">
      <video id="videoPlayer" controls>
        <source src="https://www.w3schools.com/html/mov_bbb.mp4" type="video/mp4">
        Your browser does not support HTML video.
      </video>
    </div>
    <div id="chat">
      <div id="chat-messages"></div>
      <input type="text" id="chatInput" placeholder="Type a message..." />
    </div>
  </main>
</div>

<script>
  // ====== Firebase Config ======
  const firebaseConfig = {
    apiKey: "YOUR_FIREBASE_API_KEY",
    authDomain: "YOUR_FIREBASE_PROJECT.firebaseapp.com",
    databaseURL: "https://YOUR_FIREBASE_PROJECT.firebaseio.com",
    projectId: "YOUR_FIREBASE_PROJECT",
    storageBucket: "YOUR_FIREBASE_PROJECT.appspot.com",
    messagingSenderId: "YOUR_SENDER_ID",
    appId: "YOUR_APP_ID"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();
  const messagesRef = db.ref("messages");

  // Chat elements
  const chatInput = document.getElementById("chatInput");
  const chatMessages = document.getElementById("chat-messages");

  // Random username
  const username = "User" + Math.floor(Math.random() * 1000);

  // Send message
  chatInput.addEventListener("keypress", function(e){
    if(e.key === "Enter" && chatInput.value.trim() !== ""){
      messagesRef.push({ name: username, text: chatInput.value });
      chatInput.value = "";
    }
  });

  // Listen for new messages
  messagesRef.on("child_added", function(snapshot){
    const data = snapshot.val();
    const messageEl = document.createElement("div");
    messageEl.classList.add("message");
    messageEl.innerHTML = `<span>${data.name}:</span> ${data.text}`;
    chatMessages.appendChild(messageEl);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  });
</script>
</body>
</html>
